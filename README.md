# 🎵 音楽プレーヤー（曲管理機能付き）

MP3ファイルを自由にアップロード・削除できる音楽プレーヤーです。

## ✨ 主な機能

- 🎧 **音楽再生**: ブラウザ上でMP3ファイルを再生
- ⬆️ **ファイルアップロード**: 新しい曲を簡単に追加
- 🗑️ **ファイル削除**: 不要な曲をワンクリックで削除
- 🌓 **ダークモード対応**: システムの設定に応じて自動切り替え
- 📱 **レスポンシブデザイン**: スマホ・タブレット対応

## 🚀 セットアップ

### 1. 依存パッケージのインストール

```bash
cd music_04
npm install
```

### 2. サーバーの起動

```bash
npm start
```

または、開発モード（ファイル変更時に自動再起動）で起動:

```bash
npm run dev
```

### 3. ブラウザでアクセス

サーバー起動後、以下のURLにアクセスしてください:

```
http://localhost:3000
```

## 📖 使い方

### 曲の再生
1. プレイリストに表示されている曲名をクリック
2. 音楽プレーヤーで再生が開始されます

### 曲の追加
1. 「🎼 曲の管理」セクションの「📁 MP3ファイルを選択」ボタンをクリック
2. アップロードしたいMP3ファイルを選択
3. 「⬆️ アップロード」ボタンをクリック
4. アップロードが完了すると、自動的にプレイリストに追加されます

### 曲の削除
1. プレイリストの各曲の右側にある「削除」ボタンをクリック
2. 確認ダイアログで「OK」をクリック
3. 曲がプレイリストとサーバーから削除されます

## 📁 ファイル構成

```
music_04/
├── index.html        # フロントエンド（プレーヤーUI）
├── server.js         # バックエンド（Express サーバー）
├── package.json      # Node.js 設定ファイル
├── audio/            # 音楽ファイル保存ディレクトリ
│   ├── 主がいるから大丈夫.mp3
│   └── 主がいるから大丈夫02.mp3
└── README.md         # このファイル
```

## 🛠️ 技術スタック

- **フロントエンド**: HTML5, CSS3, Vanilla JavaScript
- **バックエンド**: Node.js, Express
- **ファイルアップロード**: Multer
- **音声再生**: HTML5 Audio API

## ⚙️ 設定

### ポート番号の変更

環境変数 `PORT` で変更できます:

```bash
PORT=8080 npm start
```

### アップロード制限

`server.js` の以下の部分で設定を変更できます:

```javascript
const upload = multer({
    storage: storage,
    limits: {
        fileSize: 50 * 1024 * 1024 // 50MBまで（変更可能）
    },
    // ...
});
```

## 🔒 セキュリティについて

- アップロードは `.mp3` ファイルのみに制限されています
- ファイルサイズは最大50MBに制限されています
- ファイルパスのバリデーションを実施しています

**注意**: このアプリは開発・個人利用向けです。本番環境で使用する場合は、以下のセキュリティ対策を追加してください:
- 認証機能の追加
- HTTPS対応
- ファイルアップロードの追加検証
- レート制限の実装

## 📄 ライセンス

ISC

## 🤝 貢献

プルリクエストを歓迎します！
